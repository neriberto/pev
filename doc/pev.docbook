<chapter id="pev">
<title>O que é o pev?</title>

<para>Desde a versão 0.50, o pev é um kit de ferramentas multiplataforma para
se trabalhar com binários PE em linha de comando.</para>

<sect1 id="history">
<title>História</title>
<para>
O pev naseceu da uma necessidade bem simples: um programa que rodasse em Linux,
em linha de comando e exibisse a versão (File Version) de arquivos executáveis
do Windows (.exe, .dll etc). Este número de versão fica na seção de
resources (recursos) do arquivo PE, caso exista. No entanto, foi desenvolvido
um pequeno programa que buscava em todo o binário este número de versão, sem
qualquer otimização.
</para>

<para>
Num outro momento decidimos encontrar os resources do PE de maneira mais
inteligente e tivemos que passar por vários cabeçalhos do PE para chegar onde
queríamos. Então percebemos que poderíamos também imprimir tais cabeçalhos
e trasnformar o pev num programa para exibir várias informações sobre o PE (e
não mais só a versão).
</para>

<para>
Até a versão 0.40, o pev era um binário único mas na versão 0.50,
decidimos dividir as operações entre os binários e dar mais
foco em análise de binários suspeitos. Além disso, o código em comum de
trabalho com o arquivo PE deu origem à uma biblioteca, batizada de libpe.
Atualmente todos os binários do kit pev são dependentes da libpe.
</para>

</sect1>

<sect1 id="changelog">
<title>Changelog</title>
<screen>
pev - the PE file analysis toolkit - ChangeLog

Legend:
+ Added feature
* Improved/changed feature
- Bug fixed
! Known issue / missing feature

pev 0.70 - ?
 ! Missing full/English documentation.
 ! Missing valid XML and HTML output formats.
 ! pestr: no support for --net option with unicode strings.
 ! pestr: unable to handle too big strings.
 * libpe: rewritten, now using mmap. (Jardel Weyrich).
 * pestr: added countries domains suffixes.
 * readpe and peres: output enhancements (Jardel Weyrich).
 + pehash: sections and headers hash calculation (Jardel Weyrich).
 + pehash: ssdeep fuzzy hash calculation.
 + pehash: support for new digest hashes like sha512, ripemd160 and more.
 + peres: added new tool to analyze/extract PE resources (Marcelo Fleury).
 + pescan: cpl malware detection.
 + pescan: undocumented anti-disassembly fpu trick detection.
 - readpe can't show functions exported by ID only.
 - readpe: fixed subsystem types (Dmitry Mostovenko).

pev 0.60 - October 31, 2012
 ! Missing full/English documentation.
 ! Missing valid XML and HTML output formats.
 ! pestr: no support for --net option with unicode strings.
 ! readpe can't show functions exported by ID only.
 * pedis: -F/--function option replaced by -r/--rva.
 + added manpages for all tools.
 + pedis: added -m/--mode option to set disassembly mode (16, 32 or 64-bit).
 + pedis: added -n option to limit number of disassembled instructions.
 + pedis: added options to disassembly entrypoint and raw fille offset.
 + pedis: disassemble bytes number specified by -n option.
 + pehash: new tool to calculate PE file hashes (Jan Seidl).
 + pepack: added PEiD signature search (Rodrigo Escobar).
 + pescan: added -f/--format option to format output.
 + pescan: added section, imagebase and timestamp analysis.
 + readpe: added --exports option to show exported functions.
 - pedis: fixed address representation in calls and jump instructions.

pev 0.50 - June 25, 2012
 ! Missing documentation.
 ! Missing valid XML and HTML output formats.
 ! pedis shows arguments of jumps and calls as relative positions.
 * Improved pev tools Makefile (Gabriel Barbosa).
 * MEW packer detection in packid (Rodrigo Rubira).
 * pev now is a collection of binaries and a library to work with PE executables.
 + Output in monospaced text and csv in most programs.
 + Released libpe 1.0 to support our programs.
 + libpe: xmalloc trick and fixes (Rodrigo Rubira).
 + pedis: disassemble functions and sections (Tiago Zaniquelli).
 + pepack: detect fake EP (Wagner Barongello).
 + pescan: new tool to search for suspicious things in PE files including TLS callbacks.
 + pesec: find security features in PE files.
 + readpe can now show imported functions with --imports or -i switch.
 + readpe: show PE headers and sections information (most of obsolete pev binary).
 + rva2ofs and ofs2rva: convert from rva to raw file offset and vice-versa.
 - Fixed erroneuous ord numbers in functions imported without name.
 - Fixed two bugs with fake TLS callbacks in petls (thanks to Qualys guys for reporting).

pev 0.40 - August 7, 2011
 * Compatible with PE/COFF specification v8.2.
 * Date format in COFF header similar to RFC 2822.
 * Improved function to get machine type (Gabriel Duarte).
 + ASLR and DEP identification.
 + Added "-r" option to show resource items at first level.
 + Added TLS callback functions detection in every PE section.
 + Added more human-readable fields, like subsystem and section characteristics.
 + PE32+ support. Now pev can handle 64-bits executables.
 + Variable data directories support (no more fixed in 16).

pev 0.31 - May 11, 2011
 + Added characteristics flags in COFF output.
 + Added human-readable machine types in COFF output.
 - Fixed warning with Linux 32-bits boxes when compiling.
 - Fixed compilation in OS X. (Gustavo Roberto).

pev 0.30 - February 20, 2011
 * Improved memory use.
 * Now pev shows the Product Version with option "-p".
 + Added option "-a" to show all information.
 + Added option "-c" to show the COFF header.
 + Added option "-d" to show the DOS header.
 + Added option "-o" to show the Option (PE) header.
 + Added option "-s" to show executable sections.
 
pev 0.22 - January 9, 2011
 ! Does not support PE32+ files.
 ! Plans to read more PE informations.
 * Improved Makefile.
 + Added manpage.

pev 0.2 - December 26, 2011
 * Improved search algorithm.
 - Fixed bug compiling in MS-Windows platform.

pev 0.1 - December 12, 2010
   Initial release. (Eduardo Fernandes, Fernando Mercês, Francivan Bezerra and Thiago Moraes).
</screen>
</sect1>

</chapter>
